<form>
  <section class="outpost-container">
    {{#each outposts as |outpost|}}
      <section class="individual-outpost" id="{{@key}}">
        <h2>
          {{outpost.name}}
        </h2>
        <label for="pointPool">
          Point Pool
          <input
            type="number"
            name="pointPool"
            id="pointPool"
            min="0"
            max="9"
            value="{{outpost.pointPool}}"
            disabled
            class="{{ternary (eq outpost.pointPool 0) "empty" ""}}"
          />
        </label>
        <section class="ratings-wrapper">
          {{#each outpost.ratings as |rating|}}
            <div class="rating-container flex-1">
              <div
                class="wrapper"
                data-name="{{outpost.name}}.ratings.{{@key}}"
                data-pool-name="{{outpost.name}}.pointPool"
              >
                <label
                  for="{{@key}}"
                  class="rating-label"
                  data-click-action="changeRating"
                  data-name="{{@key}}"
                  data-type="rating"
                >
                  {{rating.name}}
                </label>
                <input
                  data-name="{{@key}}"
                  class="rating displayNumber"
                  type="number"
                  name="{{@key}}"
                  id="{{@key}}"
                  min="0"
                  max="9"
                  value="{{rating.value}}"
                  disabled
                  data-change-action="changePool"
                />
              </div>
              {{! <button type="button" data-click-action="rollOne" class="roll-button"> }}
              {{! <i class="fas fa-dice-d20"></i> }}
              {{! </button> }}
              <div
                class="points-display"
                data-click-action="changeRating"
                data-name="{{@key}}"
                data-type="rating"
              >
                <div class="underlay">
                  {{#times 9}}
                    <span class="point"></span>
                  {{/times}}
                </div>
                <div class="fill">
                  {{#times rating.value}}
                    <span class="point"></span>
                  {{/times}}
                </div>
              </div>
            </div>
          {{/each}}
          <button type="button" data-click-action="rollEach">
            Roll Each
          </button>
        </section>
        <section class="clock-section">
          <h3>
            Consequence Clocks
          </h3>
          {{! <p> }}
          {{!-- {{@root.clocks.instructions}} --}}
          {{! </p> }}
          <section class="clock-wrapper">
            {{#each outpost.consequenceClocks as |clock|}}
              <div class="consequence-clock">
                <p>
                  {{clock.name}}
                </p>
                <div
                  class="points-display"
                  data-click-action="changeRating"
                  data-name="{{@key}}"
                  data-type="clock"
                >
                  <div class="underlay">
                    {{#times 9}}
                      <span class="point point-symbol">
                        {{clock.symbol}}
                      </span>
                    {{/times}}
                  </div>
                  <div class="fill">
                    {{#times clock.value}}
                      <span class="point point-symbol">
                        {{clock.symbol}}
                      </span>
                    {{/times}}
                  </div>
                </div>
              </div>
            {{/each}}
          </section>
        </section>
        <section class="station-section">
          <h3>
            Installations
          </h3>
          <div class="station-wrapper"></div>
        </section>
      </section>
    {{/each}}
  </section>
</form>
